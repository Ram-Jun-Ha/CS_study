# ğŸ“Œ CPU scheduling 
## ê¸°ë³¸ ê°œë…
- single-processor systemì—ì„œëŠ” í•œ ìˆœê°„ì— ì˜¤ì§ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤.
- ë‚˜ë¨¸ì§€ í”„ë¡œì„¸ìŠ¤ë“¤ì€ CPUê°€ free ìƒíƒœê°€ ë˜ì–´, ë‹¤ì‹œ ìŠ¤ì¼€ì¤„ ë  ìˆ˜ ìˆì„ ë•Œ ê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•œë‹¤.

- `Multi-programmingì˜ ëª©ì `ì€ CPU ì´ìš©ë¥ ì„ ìµœëŒ€í™”í•˜ê¸° ìœ„í•´ `í•­ìƒ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°–ê²Œ í•˜ëŠ” ê²ƒ`
- ì´ ë°©ì‹ì—ì„œ, ì–´ëŠ í•œ ìˆœê°„ì— ë‹¤ìˆ˜ì˜ í”„ë¡œì„¸ìŠ¤ë“¤ì„ ë©”ëª¨ë¦¬ ë‚´ì— ìœ ì§€í•œë‹¤.
- ì´í›„ì— ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ê°€ ëŒ€ê¸°í•´ì•¼ í•˜ëŠ” ê²½ìš°, ìš´ì˜ì²´ì œëŠ” `CPUë¥¼ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ë¡œë¶€í„° íšŒìˆ˜í•˜ì—¬ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹`í•œë‹¤.

>CPU ì´ìš©ë¥ ì„ ìµœëŒ€í™” í•˜ëŠ” ê²ƒì€ ë‹¤ì¤‘ í”„ë¡œì„¸ì„œ ìš´ì˜ì²´ì œ ì„¤ê³„ì˜ í•µì‹¬

## CPU-ì…ì¶œë ¥ ë²„ìŠ¤íŠ¸ ì‚¬ì´í´ (CPU-I/O Burst Cycle)

>í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ì€ CPU ì‹¤í–‰(CPU Execution)ê³¼ I/O ëŒ€ê¸°(I/O wait)ì˜ ì‚¬ì´í´ë¡œ êµ¬ì„±ëœë‹¤.

![alt text](img/os_sceduling_01.png)

- í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ì€ CPU Burstë¡œ ì‹œì‘ë˜ë©° `CPU burst-I/O burst - CPU burst - ..... `ìˆœìœ¼ë¡œ ìˆœì°¨ì ìœ¼ë¡œ burstê°€ ë°œìƒí•œë‹¤.
- ë§ˆì§€ë§‰ CPU burstëŠ” ì‹¤í–‰ì„ ì¢…ë£Œí•˜ê¸° ìœ„í•œ ì‹œìŠ¤í…œ ìš”ì²­ê³¼ í•¨ê»˜ ëë‚œë‹¤.

>CPU burst : í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ CPU ì—°ì‚°(ê³„ì‚° ì‘ì—…)ì´ ì—°ì†ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ìƒí™©<br>
>I/O burst : í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ I/O ì¥ì¹˜ì˜ ì…ì¶œë ¥ì´ ì´ë£¨ì–´ì§€ëŠ” ìƒí™©

## CPU ìŠ¤ì¼€ì¤„ëŸ¬(CPU Scheduler)
- `CPUê°€ ìœ íœ´ ìƒíƒœ`ê°€ ë  ë•Œë§ˆë‹¤, ìš´ì˜ì²´ì œëŠ” `Ready Queueì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ ì¤‘ì—ì„œ í•˜ë‚˜ë¥¼ ì„ íƒí•´ ì‹¤í–‰`í•´ì•¼ í•˜ë©°, ì„ íƒì€ `CPU ìŠ¤ì¼€ì¤„ëŸ¬(CPU Scheduler)`ì— ì˜í•´ ìˆ˜í–‰ëœë‹¤.
- CPU ìŠ¤ì¼€ì¤„ëŸ¬ëŠ” ì‹¤í–‰ ì¤€ë¹„ê°€ ë˜ì–´ ìˆëŠ” ë©”ëª¨ë¦¬ ë‚´ì˜ í”„ë¡œì„¸ìŠ¤ ì¤‘ì—ì„œ ì„ íƒí•˜ì—¬, ì´ë“¤ ì¤‘ í•˜ë‚˜ì—ê²Œ CPUë¥¼ í• ë‹¹í•œë‹¤.

## CPU ìŠ¤ì¼€ì¤„ë§ì´ ì¼ì–´ë‚˜ëŠ” ê²½ìš°

1. ì‹¤í–‰ ìƒíƒœì˜ í”„ë¡œì„¸ìŠ¤ê°€ ëŒ€ê¸° ìƒíƒœë¡œ ì „í™˜ë˜ì—ˆì„ ê²½ìš°(I/O ë°œìƒ)

     (1) ì…ì¶œë ¥ ìš”ì²­

     (2) ì‚¬ê±´ ëŒ€ê¸° (wait() ì‹œìŠ¤í…œ í˜¸ì¶œ â†’ ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•¨)


2. ì‹¤í–‰ ìƒíƒœì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì¤€ë¹„ ìƒíƒœë¡œ ì „í™˜ë˜ì—ˆì„ ê²½ìš°(ì¸í„°ëŸ½íŠ¸ ë°œìƒ)

     (1) ì¸í„°ëŸ½íŠ¸ì˜ ë°œìƒ

     (2) ì‹œë¶„í•  ì‹œìŠ¤í…œì—ì„œ íƒ€ì„ ìŠ¬ë¼ì´ìŠ¤ì˜ ì†Œì§„


3. ëŒ€ê¸° ìƒíƒœì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì¤€ë¹„ ìƒíƒœë¡œ ì „í™˜ë˜ì—ˆì„ ê²½ìš°(I/O ì¢…ë£Œ)

     (1) ì…ì¶œë ¥ì˜ ì¢…ë£Œ

     (2) ì‚¬ê±´ì˜ ì ‘ìˆ˜ ì™„ë£Œ


4. ì‹¤í–‰ ìƒíƒœì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ì—ˆì„ ê²½ìš°

> ë¹„ì„ ì  ìŠ¤ì¼€ì¤„ë§(Nonpreemptive Scheduling) :  CPUê°€ í•œ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹ë˜ë©´ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œí•˜ê±°ë‚˜ ëŒ€ê¸° ìƒíƒœë¡œ ì „í™˜í•´ CPUë¥¼ ë°©ì¶œí•  ë•Œê¹Œì§€ ì ìœ í•œë‹¤(1,4)
> <br>
> ì„ ì  ìŠ¤ì¼€ì¤„ë§(Preemptive Scheduling) : ì‹œë¶„í•  ì‹œìŠ¤í…œì—ì„œ íƒ€ì„ ìŠ¬ë¼ì´ìŠ¤ê°€ ì†Œì§„ë˜ì—ˆê±°ë‚˜, ì¸í„°ëŸ½íŠ¸ë‚˜ ì‹œìŠ¤í…œ í˜¸ì¶œ ì¢…ë£Œì‹œì— ë” ë†’ì€ ìš°ì„  ìˆœìœ„ í”„ë¡œì„¸ìŠ¤ê°€ ë°œìƒ ë˜ì—ˆìŒì„ ì•Œì•˜ì„ ë•Œ, í˜„ ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤ë¡œë¶€í„° ê°•ì œë¡œ CPUë¥¼ íšŒìˆ˜í•˜ëŠ” ê²ƒ(2,3)


## ë””ìŠ¤íŒ¨ì²˜ (Dispatcher)
- CPUì˜ ì œì–´ë¥¼ ë‹¨ê¸° ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì„ íƒí•œ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì£¼ëŠ” ëª¨ë“ˆ
- ë””ìŠ¤íŒ¨ì²˜ê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…
  - ë¬¸ë§¥êµí™˜(Switching context)
  - ì‚¬ìš©ì ëª¨ë“œë¡œ ì „í™˜(Switching to user mode)
  - í”„ë¡œê·¸ë¨ì„ ë‹¤ì‹œ ì‹œì‘í•˜ê¸° ìœ„í•´ ì‚¬ìš©ì í”„ë¡œê·¸ë¨ì˜ ì ì ˆí•œ ìœ„ì¹˜ë¡œ ì´ë™(jump)
  
>ë¬¸ë§¥ êµí™˜ì´ ì¼ì–´ë‚  ë•Œ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì •ì§€í•˜ê³  ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜í–‰ì„ ì‹œì‘í•˜ëŠ” ë°ê¹Œì§€ëŠ” ì‹œê°„ì´ ì†Œìš”ë˜ëŠ”ë°,
ì´ ì‹œê°„ì„ `ë””ìŠ¤íŒ¨ì¹˜ ì§€ì—°(dispatch latency) ì‹œê°„`ì´ë¼ê³  ë¶€ë¥¸ë‹¤.

## ìŠ¤ì¼€ì¤„ë§ ê¸°ì¤€ (Scheduling Criteria)
![alt text](img/os_sceduling_02.png)
- CPU ì´ìš©ë¥ (Utilization): ì–´ëŠ ê¸°ê°„ ë™ì•ˆ ë˜ëŠ” íŠ¹ì • SNAPSHOTì—ì„œì˜ CPUì˜ ì´ìš©ë¥ .
- ì²˜ë¦¬ëŸ‰(Throughput): ë‹¨ìœ„ ì‹œê°„ë‹¹ ì™„ë£Œëœ í”„ë¡œì„¸ìŠ¤ì˜ ê°œìˆ˜.
- ì´ì²˜ë¦¬ ì‹œê°„(Turnaround Time): í”„ë¡œì„¸ìŠ¤ê°€ ìƒì„±ë˜ì–´ ì‘ì—…ì„ ë§ˆì¹˜ê³  ì¢…ë£Œë  ë•Œê¹Œì§€ ê±¸ë¦° ì‹œê°„.
- ëŒ€ê¸° ì‹œê°„(Waiting Time): ëŒ€ê¸° ì‹œê°„ì€ í”„ë¡œì„¸ìŠ¤ê°€ ì¤€ë¹„ íì—ì„œ ëŒ€ê¸°í•˜ë©´ì„œ ë³´ë‚¸ ì‹œê°„ì˜ í•©.
- ì‘ë‹µ ì‹œê°„(Response Time): í•˜ë‚˜ì˜ Requestë¥¼ ì œì¶œí•œ í›„ ì²« ë²ˆì§¸ Responseê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ì˜ ì‹œê°„.

>`CPU Utilization, Throughputì„ ìµœëŒ€í™”`<br> `Turaround Time, Waiting Time, Response Timeì„ ìµœì†Œí™”`
